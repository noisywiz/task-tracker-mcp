services:
  task-tracker:
    build: .
    image: ywatanabe/task-tracker:latest
    container_name: task-tracker-mcp
    ports:
      - "${DOCKER_PORT:-8000}:${TASK_TRACKER_MCP_PORT:-8000}"
    environment:
      MCP_TRANSPORT: "${MCP_TRANSPORT:-http}"
      MCP_HOST: "${MCP_HOST:-0.0.0.0}"
      TASK_TRACKER_MCP_PORT: "${TASK_TRACKER_MCP_PORT:-8000}"
      PYTHONUNBUFFERED: "${PYTHONUNBUFFERED:-1}"
    volumes:
      - ./data:/data
    restart: unless-stopped
    # Uncomment to enable detailed logging
    # logging:
    #   driver: "json-file"
    #   options:
    #     max-size: "10m"
    #     max-file: "3"

# Example with custom port:
# services:
#   task-tracker:
#     build: .
#     container_name: task-tracker-mcp
#     ports:
#       - "9000:9000"
#     environment:
#       TASK_TRACKER_MCP_PORT: "9000"
#     volumes:
#       - ./data:/data
#     restart: unless-stopped
